<!--campaigns.html-->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>حملات التبرع - GiveHope</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="casedetails.css" />
    <link rel="stylesheet" href="campaigns.css" />
  </head>

  <body>
    <div id="navbar-placeholder"></div>

    <section class="page-header">
      <h1>حملات التبرع</h1>
      <p>﴿ وَمَن يُوقَ شُحَّ نَفْسِهِ فَأُولَٰئِكَ هُمُ الْمُفْلِحُونَ ﴾</p>
    </section>

    <main>
      <!-- زر إنشاء حملة (للإداري) -->
      <div id="adminCreateBtn" class="admin-btn" style="display: none">
        <a href="create-campaign.html" class="btn-create">
          <i class="fas fa-plus-circle"></i> إنشاء حملة جديدة
        </a>
      </div>

       <!--  شريط البحث —  -->
      <div class="search-bar">
        <div class="search-input-wrapper">
          <input
            type="text"
            id="searchInput"
            placeholder="ابحث باسم الحملة أو رقمها (مثل ABC123)"
          />
          <button id="clearSearch" title="مسح البحث" aria-label="مسح البحث">
            ×
          </button>
          <button id="searchButton" class="search-icon-btn" title="بحث">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <!-- شريط الفلترة -->
      <div id="filterBar"></div>

      <!-- الحملات العامة -->
      <div class="campaigns-grid" id="campaignsContainer"></div>

      <!-- الحملات المجدولة -->
      <div class="campaigns-grid" id="scheduledCampaigns"></div>

      <!-- الحملات المنتهية -->
      <div class="campaigns-grid" id="endedCampaigns"></div>

      <!-- الحملات المعلقة -->
      <div class="campaigns-grid" id="pendingCampaigns"></div>

      <!-- الحملات المكتملة -->
      <div class="campaigns-grid" id="completedCampaigns"></div>
    </main>

    <!-- نافذة التفاصيل (Modal) -->
    <div class="modal-overlay" id="detailModal">
      <div class="modal-content">
        <button class="modal-close">&times;</button>
        <h2 id="modalHeading"></h2>

        <div class="modal-info">
          <!-- السطر الأول: اسم الحملة + رقم الحملة -->
          <div class="modal-info-row">
            <span
              ><strong>اسم الحملة:</strong> <span id="modalTitle"></span
            ></span>
            <span><strong>رقم الحملة:</strong> <span id="modalId"></span></span>
          </div>

          <!-- السطر الثاني: تاريخ البداية + تاريخ النهاية -->
          <div class="modal-info-row">
            <span
              ><strong>تاريخ البداية:</strong> <span id="modalStart"></span
            ></span>
            <span
              ><strong>تاريخ النهاية:</strong> <span id="modalEnd"></span
            ></span>
          </div>

          <!-- السطر الثالث: الهدف المالي + المبلغ الحالي -->
          <div class="modal-info-row">
            <span
              ><strong>الهدف المالي:</strong> <span id="modalGoal"></span
            ></span>
            <span
              ><strong>المبلغ الحالي:</strong> <span id="modalRaised"></span
            ></span>
          </div>
        </div>

        <div class="modal-desc" id="modalDesc"></div>

        <!-- زر التبرع يظهر حسب حالة المستخدم والحملة -->
        <div class="modal-donate-btn"></div>
      </div>
    </div>

    <div id="footer-placeholder"></div>

    <!-- تحميل الهيدر والفوتر -->
    <script>
      function loadHTML(id, file) {
        fetch(file)
          .then((res) => res.text())
          .then((html) => (document.getElementById(id).innerHTML = html))
          .catch((err) => console.error("خطأ في تحميل", file, err));
      }
      document.addEventListener("DOMContentLoaded", () => {
        loadHTML("navbar-placeholder", "navbar.html");
        loadHTML("footer-placeholder", "footer.html");
      });
    </script>

    <!-- سكريبت القائمة -->
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const check = setInterval(() => {
          const toggle = document.getElementById("menuToggle");
          const nav = document.getElementById("navLinks");
          if (toggle && nav) {
            clearInterval(check);
            toggle.onclick = (e) => {
              e.stopPropagation();
              nav.classList.toggle("active");
            };
            document.onclick = (e) => {
              if (!e.target.closest(".navbar")) {
                nav.classList.remove("active");
                document
                  .querySelectorAll(".dropdown")
                  .forEach((d) => d.classList.remove("active"));
              }
            };
          }
        }, 100);
      });
    </script>

    <!-- سكريبت الحملات -->
    <script src="campaigns.js"></script>

    <!-- تحديد نوع الصفحة -->
    <script>
      window.pageType = "campaigns";
    </script>
    <script src="loadChatbot.js"></script>
  </body>
</html>
