<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الإحصائيات</title>
  <!--bootstrap-->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!--fontawsom-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&family=Tajawal:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="projects.css" />
    <link rel="stylesheet" href="statistics.css" />

  
</head>

<body >

  <div id="navbar-placeholder"></div>

   <section class="page-header ">
            <h1>الإحصائيات</h1>
            <p>نظرة شاملة ومفصلة على جميع الأنشطة والإحصائيات  </p>
    </section>
<div class="mb-3 mx-3">
     <!-- محتويات التبويبات -->
   <div class="row g-3  ">
         <div class="col-md-3">
          <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
          <div class="card-body d-flex justify-content-between align-items-center">
         <div>
          <p class="text-primary mb-1">إجمالي التبرعات</p>
          <h4 id="totalDonations" class="text-primary fw-bold mb-2">-₪</h4>
          <p class="text-muted small mb-2">المبلغ الإجمالي المجموع </p>
         <div class="d-flex align-items-center gap-2">
        
      </div>
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-solid fa-coins"></i>
    </div>
    </div>
  </div>
         </div>

    <div class="col-md-3">
        <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">عدد المتبرعين </p>
     <h4 id="donorsCount" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2">متبرع فعال  </p>
      
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
     <i class="fa-solid fa-users"></i>
    </div>
    </div>
  </div>
</div>

 <div class="col-md-3">
  <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">عدد المستفيدين  </p>
     <h4 id="beneficiaries" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2"> شخص استفاد من التبرعات  </p>
     
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-solid fa-gift"></i>
    </div>
    </div>
  </div>
</div>

<div class="col-md-3">
  <div class="card  text-bg-light shadow-sm mb-4" style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">الحملات النشطة</p>
     <h4 id="activeCampaigns" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2"> حملة قيد التنفيذ   </p>
     
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-solid fa-bullseye"></i>
    </div>
    </div>
  </div>
</div>

<div class="col-md-3">
  <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">عدد المشاريع المكتملة  </p>
     <h4 id="beneficiaries" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2"> مشروع مكتمل  </p>
      
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-regular fa-square-check"></i>
    </div>
    </div>
  </div>
</div>
 

<div class="col-md-3">
  <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">عدد الحالات المكفولة   </p>
     <h4  id="sponsoredCases" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2"> حالة تم كفالتها  </p>
      
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-regular fa-square-check"></i>
    </div>
    </div>
  </div>
</div>

<div class="col-md-3">
  <div class="card  text-bg-light shadow-sm " style="backdrop-filter: blur(5px);">
  <div class="card-body d-flex justify-content-between align-items-center">
    <div>
      <p class="text-primary mb-1">عدد الحملات المكتملة   </p>
     <h4 id="completedCampaigns" class="text-primary fw-bold mb-2">-</h4>
      <p class="text-muted small mb-2"> حملة مكتملة  </p>
      
    </div>
    <div class="bg-primary text-white p-3 rounded shadow d-flex align-items-center justify-content-center fs-3">
      <i class="fa-regular fa-square-check"></i>
    </div>
    </div>
  </div>
</div>
        </div>
  </div> 
 
  <div class=" mx-3 mb-3">
    

   

        <div class="row  g-3">
           <div class="col-md-6">
            <div class=" card p-4">
             <h6>فئات التبرعات</h6>
               <div>
               <canvas id="donationChart" height="350px"></canvas>
               </div>
   
  </div>
          </div>
          
          <div class="col-md-6">
            <div class="card p-4">
              <h6>عدد المتبرعين شهرياً</h6>
              <canvas id="donorsChart" height="350px"></canvas>
            </div>
          </div>
          <div class="col-md-12">
            <div class="card p-4">
              <h6>اتجاه التبرعات الشهرية</h6>
              <canvas id="donationsChart" height="350px"></canvas>
            </div>
          </div>
         
       
       </div>

       
         <div class="row g-4 mt-4">

    <!-- متوسط التبرع -->
    <div class=" col-md-4">
      <div class="py-1 px-3 card shadow-sm d-flex flex-row align-items-center justify-content-between gap-3">
       
        <div>
          <p class="text-muted mb-1 pt-1">متوسط التبرع</p>
          <h4 class="fw-bold text-dark" id="avgDonation">-</h4>
          <p class="small text-success"> من الشهر السابق</p>
        </div>
         <div class="icon-box bg-success bg-gradient">
          <i class="fa-solid fa-coins"></i>
        </div>
      </div>
    </div>

    <!-- متبرعون جدد -->
    <div class=" col-md-4">
      <div class="card py-1 px-3 shadow-sm d-flex flex-row align-items-center justify-content-between gap-3">
       
        <div >
          <p class="text-muted mb-1 pt-1">متبرعون جدد</p>
          <h4 class="fw-bold text-dark" id="newDonors">-</h4>
          <p class="small" style="color:#6f42c1;">هذا الشهر</p>
        </div>
         <div class="icon-box bg-purple bg-gradient" style="background-color:#6f42c1 !important;">
          <i class="fa-solid fa-user-plus"></i>
        </div>
      </div>
    </div>

    <!-- حملات مكتملة -->
    <div class="col-md-4">
      <div class="card py-1 px-3 shadow-sm d-flex flex-row align-items-center justify-content-between gap-3">
        
        <div >
          <p class="text-muted mb-1 pt-1">حملات مكتملة</p>
          <h4 class="fw-bold text-dark"  id="completedCampaignsYear">-</h4>
          <p class="small text-warning">هذا العام</p>
        </div>
        <div class="icon-box bg-warning bg-gradient">
          <i class="fa-regular fa-square-check"></i>
        </div>
      </div>
    </div>
      </div>
 </div>
     

   
     
   
 

<!--footer-->
 <div id="footer-placeholder"></div>
<!-- navbar -->
  <script>
     function loadHTML(id, file) {
        fetch(file)
          .then((res) => res.text())
          .then((html) => (document.getElementById(id).innerHTML = html))
          .catch((err) => console.error("خطأ في تحميل", file, err));
      }
      document.addEventListener("DOMContentLoaded", () => {
        loadHTML("navbar-placeholder", "navbar.html");
        loadHTML("footer-placeholder", "footer.html");
      });

      document.addEventListener("DOMContentLoaded", () => {
        const check = setInterval(() => {
          const toggle = document.getElementById("menuToggle");
          const nav = document.getElementById("navLinks");
          if (toggle && nav) {
            clearInterval(check);
            toggle.onclick = (e) => {
              e.stopPropagation();
              nav.classList.toggle("active");
            };
            document.onclick = (e) => {
              if (!e.target.closest(".navbar")) {
                nav.classList.remove("active");
                document
                  .querySelectorAll(".dropdown")
                  .forEach((d) => d.classList.remove("active"));
              }
            };
            nav.onclick = (e) => e.stopPropagation();
            document.querySelectorAll(".dropdownToggle").forEach((btn) => {
              btn.onclick = (e) => {
                if (window.innerWidth <= 992) {
                  e.preventDefault();
                  const dropdown = btn.parentElement;
                  dropdown.classList.toggle("active");
                  document.querySelectorAll(".dropdown").forEach((d) => {
                    if (d !== dropdown) d.classList.remove("active");
                  });
                }
              };
            });
            window.onresize = () => {
              if (window.innerWidth > 992) {
                nav.classList.remove("active");
                document
                  .querySelectorAll(".dropdown")
                  .forEach((d) => d.classList.remove("active"));
              }
            };
          }
        }, 100);
      });
    </script>

    
<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script src="statistics.js"></script>

</body>
</html>
